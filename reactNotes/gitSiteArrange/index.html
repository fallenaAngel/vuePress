<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react在git站点部署 | Ding&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/vuePress/logo.jpg">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/vuePress/assets/css/0.styles.01e747de.css" as="style"><link rel="preload" href="/vuePress/assets/js/app.6d60d073.js" as="script"><link rel="preload" href="/vuePress/assets/js/2.b3f14533.js" as="script"><link rel="preload" href="/vuePress/assets/js/1.9a56ce6b.js" as="script"><link rel="preload" href="/vuePress/assets/js/24.c6be4987.js" as="script"><link rel="prefetch" href="/vuePress/assets/js/10.d1952a8c.js"><link rel="prefetch" href="/vuePress/assets/js/11.36f1529d.js"><link rel="prefetch" href="/vuePress/assets/js/12.455ee435.js"><link rel="prefetch" href="/vuePress/assets/js/13.1e7a4b73.js"><link rel="prefetch" href="/vuePress/assets/js/14.2772fea2.js"><link rel="prefetch" href="/vuePress/assets/js/15.6d2dfa11.js"><link rel="prefetch" href="/vuePress/assets/js/16.0824e914.js"><link rel="prefetch" href="/vuePress/assets/js/17.2f70f581.js"><link rel="prefetch" href="/vuePress/assets/js/18.79d107ee.js"><link rel="prefetch" href="/vuePress/assets/js/19.d6620149.js"><link rel="prefetch" href="/vuePress/assets/js/20.7c8f927d.js"><link rel="prefetch" href="/vuePress/assets/js/21.fbb3d48e.js"><link rel="prefetch" href="/vuePress/assets/js/22.988f3bd4.js"><link rel="prefetch" href="/vuePress/assets/js/23.fcea1c3a.js"><link rel="prefetch" href="/vuePress/assets/js/25.8b011566.js"><link rel="prefetch" href="/vuePress/assets/js/26.cc47e4bd.js"><link rel="prefetch" href="/vuePress/assets/js/27.60fa7ec5.js"><link rel="prefetch" href="/vuePress/assets/js/28.f16e7951.js"><link rel="prefetch" href="/vuePress/assets/js/29.932303ce.js"><link rel="prefetch" href="/vuePress/assets/js/3.508c26ee.js"><link rel="prefetch" href="/vuePress/assets/js/30.7e254814.js"><link rel="prefetch" href="/vuePress/assets/js/31.1eac964b.js"><link rel="prefetch" href="/vuePress/assets/js/4.028344d6.js"><link rel="prefetch" href="/vuePress/assets/js/5.35b2dbd2.js"><link rel="prefetch" href="/vuePress/assets/js/6.eba97de9.js"><link rel="prefetch" href="/vuePress/assets/js/7.d600773b.js"><link rel="prefetch" href="/vuePress/assets/js/vendors~docsearch.33b2b47d.js">
    <link rel="stylesheet" href="/vuePress/assets/css/0.styles.01e747de.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuePress/" class="home-link router-link-active"><!----> <span class="site-name">Ding's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuePress/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日常" class="dropdown-title"><span class="title">日常</span> <span class="arrow down"></span></button> <button type="button" aria-label="日常" class="mobile-dropdown-title"><span class="title">日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/problemRecords.html" class="nav-link">
  日常问题记录
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/ts/" class="nav-link">
  TS
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/toolWebsite.html" class="nav-link">
  工具网站合集
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/InterviewTheory.html" class="nav-link">
  面试
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/lifeTips.html" class="nav-link">
  生活
</a></li></ul></div></div><div class="nav-item"><a href="/vuePress/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="https://blog.csdn.net/weixin_43869192" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/fallenaAngel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuePress/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日常" class="dropdown-title"><span class="title">日常</span> <span class="arrow down"></span></button> <button type="button" aria-label="日常" class="mobile-dropdown-title"><span class="title">日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/problemRecords.html" class="nav-link">
  日常问题记录
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/ts/" class="nav-link">
  TS
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/toolWebsite.html" class="nav-link">
  工具网站合集
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/InterviewTheory.html" class="nav-link">
  面试
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/dailyNotes/lifeTips.html" class="nav-link">
  生活
</a></li></ul></div></div><div class="nav-item"><a href="/vuePress/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="https://blog.csdn.net/weixin_43869192" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/fallenaAngel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react在git站点部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuePress/reactNotes/gitSiteArrange/#在github创建项目" class="sidebar-link">在github创建项目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuePress/reactNotes/gitSiteArrange/#package-json" class="sidebar-link">package.json</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuePress/reactNotes/gitSiteArrange/#创建vite-config-ts配置文件" class="sidebar-link">创建vite.config.ts配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress/reactNotes/gitSiteArrange/#可视化并分析-rollup-包占用空间" class="sidebar-link">可视化并分析 Rollup 包占用空间</a></li><li class="sidebar-sub-header"><a href="/vuePress/reactNotes/gitSiteArrange/#css配置" class="sidebar-link">css配置</a></li></ul></li><li><a href="/vuePress/reactNotes/gitSiteArrange/#创建其他vite项目文件" class="sidebar-link">创建其他vite项目文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress/reactNotes/gitSiteArrange/#index-html" class="sidebar-link">index.html</a></li><li class="sidebar-sub-header"><a href="/vuePress/reactNotes/gitSiteArrange/#package-json添加" class="sidebar-link">package.json添加</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react在git站点部署"><a href="#react在git站点部署" class="header-anchor">#</a> react在git站点部署</h1> <h2 id="在github创建项目"><a href="#在github创建项目" class="header-anchor">#</a> 在github创建项目</h2> <p><img src="/vuePress/assets/img/1.d4cfc072.jpg" alt="创建项目"></p> <p>创建完成之后，clone到本地开发项目。进入项目根目录，执行<code>yarn init -y</code>初始化package.json文件。</p> <h2 id="package-json"><a href="#package-json" class="header-anchor">#</a> package.json</h2> <div class="language-json extra-class"><pre class="language-json"><code>
</code></pre></div><h2 id="创建vite-config-ts配置文件"><a href="#创建vite-config-ts配置文件" class="header-anchor">#</a> 创建vite.config.ts配置文件</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vitest/config'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'path'</span>
<span class="token keyword">import</span> eslint <span class="token keyword">from</span> <span class="token string">'@nabla/vite-plugin-eslint'</span>
<span class="token keyword">import</span> react <span class="token keyword">from</span> <span class="token string">'@vitejs/plugin-react-swc'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> visualizer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rollup-plugin-visualizer'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> type PluginOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">'./'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">tsDecorators</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">eslint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 可视化并分析您的 Rollup 包，看看哪些模块占用了空间。</span>
    <span class="token function">visualizer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'./visualizer/index.html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">as</span> PluginOption<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 构建时 生成自定义类</span>
      <span class="token literal-property property">generateScopedName</span><span class="token operator">:</span> <span class="token string">'[local]-[hash:base64:5]'</span><span class="token punctuation">,</span>
      <span class="token comment">// 在react中，经常会在js中书写class，一般class使用中划线，写在js中不优雅，可以用这个配置</span>
      <span class="token comment">// dashes表示只在js中使用时通过驼峰引用</span>
      <span class="token literal-property property">localsConvention</span><span class="token operator">:</span> <span class="token string">'dashes'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">postcss</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">postcssNest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">postcssPresetEnv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">stage</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">autoprefixer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">flexbox</span><span class="token operator">:</span> <span class="token string">'no-2009'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'src/**/*.{test, spec}.{js,jsx,ts,tsx}'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">environment</span><span class="token operator">:</span> <span class="token string">'jsdom'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'@styles'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/styles'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@assets'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@routes'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/routes'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@apis'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/apis'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@components'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/components'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@hooks'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/hooks'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@pages'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/pages'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@stores'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/stores'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@models'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/models'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@utils'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utils'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="可视化并分析-rollup-包占用空间"><a href="#可视化并分析-rollup-包占用空间" class="header-anchor">#</a> 可视化并分析 Rollup 包占用空间</h3> <p>这里使用<a href="https://github.com/btd/rollup-plugin-visualizer" target="_blank" rel="noopener noreferrer">Rollup Plugin Visualizer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>包提供功能。在vite.config.ts这种ts配置文件中需要如下用法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig<span class="token punctuation">,</span> type PluginOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">visualizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> PluginOption<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>可以有扩展配置，这里配置了filename，带有要生成的图表的文件的名称。</p> <h3 id="css配置"><a href="#css配置" class="header-anchor">#</a> <a href="/vuePress/reactNotes/gitSiteArrange/viteCssConfig.html">css配置</a></h3> <h2 id="创建其他vite项目文件"><a href="#创建其他vite项目文件" class="header-anchor">#</a> 创建其他vite项目文件</h2> <h3 id="index-html"><a href="#index-html" class="header-anchor">#</a> index.html</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/svg+xml<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/src/favicon.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Vite App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/src/index.tsx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="package-json添加"><a href="#package-json添加" class="header-anchor">#</a> package.json添加</h3> <ol><li><p>script命令</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;preview&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vitest&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>browserslist</p> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&gt;= 5%&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;not dead&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;not ie &lt;= 11&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;last 1 chrome version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 firefox version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 safari version&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li></ol> <p>根据提供的目标浏览器的环境来，智能添加css前缀，js的polyfill垫片,来兼容旧版本浏览器。避免不必要的兼容代码，以提高代码的编译质量。共享<a href="https://github.com/browserslist/browserslist" target="_blank" rel="noopener noreferrer">使用browserslist的组件们<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：Autoprefixer（postcss添加css前缀组件）、bable-preset-env（编译预设环境 智能添加polyfill垫片代码）、postcss-preset-env、postcss-normalize等。</p> <p>只要package.json配置了browserslist对象,需要的组件将自动匹配到并使用,也可以配置到具体的组件参数上，这里分别配置了生产环境和开发环境。</p> <table><thead><tr><th>配置</th> <th>描述</th></tr></thead> <tbody><tr><td>&quot;&gt;= 5%&quot;</td> <td>全球超过等于5%人使用的浏览器</td></tr> <tr><td>&quot;last 1 chrome version&quot;</td> <td>chrome浏览器兼容到最后1个版本根据caniuse.com追踪的版本</td></tr> <tr><td>&quot;not dead&quot;</td> <td>24个月没有官方支持或更新的浏览器。 目前它是IE 11等，更多<a href="https://github.com/browserslist/browserslist" target="_blank" rel="noopener noreferrer">查询<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <ol start="3"><li><p>npm依赖</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;@tanstack/react-query&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.7.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;axios&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.6.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;classnames&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;react-router-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.18.0&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;@commitlint/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@commitlint/config-conventional&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@nabla/vite-plugin-eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.5.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@testing-library/dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.3.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@testing-library/react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^14.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@testing-library/user-event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^14.5.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@total-typescript/ts-reset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.5.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^20.8.10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.35&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.14&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react-router-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.3.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react-test-renderer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.0.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/rollup-plugin-visualizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.2.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@typescript-eslint/eslint-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.9.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@typescript-eslint/parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.9.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@vitejs/plugin-react-swc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;browserslist-to-esbuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.3.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.0.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cypress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^13.4.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cz-conventional-changelog&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;editorconfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.53.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-config-prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-config-proste&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-plugin-cypress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.15.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-plugin-import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.29.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-plugin-import-newlines&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.3.4&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-plugin-react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.33.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-plugin-react-hooks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.6.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;jsdom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^22.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^15.0.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;postcss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.4.31&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;postcss-nesting&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^12.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;postcss-preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.3.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;react-test-renderer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rollup-plugin-visualizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.9.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;standard-version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.5.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stylelint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^15.11.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stylelint-config-recess-order&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.3.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stylelint-config-standard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^34.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;swc-plugin-react-remove-properties&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.1.4&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.2.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;vite&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.5.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;vitest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.34.6&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>@tanstack/react-query 它使 React 程序中的获取，缓存，同步和更新服务器状态变得轻而易举<a href="https://cangsdarm.github.io/react-query-web-i18n/react/" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>classnames 一个简单的 JavaScript 实用程序，用于有条件地将类名连接在一起</li> <li>规范commit格式：commitizen &amp; cz-conventional-changelog <a href="https://juejin.cn/post/6990307028162281508" target="_blank" rel="noopener noreferrer">分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>commitizen/cz-cli：需要借助它提供的 git cz 命令替代 git commit 命令, 帮助生成符合规范的 commit message.</li> <li>cz-conventional-changelog做为 commitizen 指定的 Adapter，使得 commitizen 按照指定的规范帮助我们生成 commit message。</li></ul></li> <li>校验commit格式：@commitlint/config-conventional &amp; @commitlint/cli &amp; husky
<ul><li>commitlint: 可以帮助我们 lint commit messages, 如果提交的不符合指向的规范, 直接拒绝提交。</li> <li>@commitlint/config-conventional ：作为校验的配置。</li> <li>husky：提供git hook。</li></ul></li> <li>@nabla/vite-plugin-eslint 将 ESLint 插入 Vite 开发服务器 TODO</li> <li></li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vuePress/assets/js/app.6d60d073.js" defer></script><script src="/vuePress/assets/js/2.b3f14533.js" defer></script><script src="/vuePress/assets/js/1.9a56ce6b.js" defer></script><script src="/vuePress/assets/js/24.c6be4987.js" defer></script>
  </body>
</html>
